?list.files
pollutantmean <- function(directory, pollutant, id = 332){
filenames <- list.files(path = directory, pattern = ",csv", full.names = T)
data <- data.frame()
for(i in id){
temp <- read.csv(filenames[i])
data <- rbind(data, temp)
mean(data[[pollutant]], na.rm = T)
}
}
pollutantmean("specdata", "sulfate", 1:10)
debug()
debug(pollutantmean)
pollutantmean("specdata", "sulfate", 1:10)
x <- 1:10
x
x <- "faiza"
x
x <- 1:10
x
x
x <- "faiza"
x
y <- 1:10
y
z <- matrix(1:4, 2, 2)
x
y
z
class(x)
class(y)
a <- c(1, 1.1, 3, 4)
a
class(a)
class(z)
?mean()
print(x)
mean(y)
x
dim(a)
dim(z)
names(y)
length(x)
filenames <- list.files(path = "specdata")
filenames <- list.files(path = "specdata", full.names = T)
read.csv(filenames[2])
rm(list = ls())
filenames <- list.files("specdata", full.names = T)
data <- read.csv(filenames[20])
data1 <- read.csv(filenames[1])
data1 <- read.csv(filenames[111])
data3 <- rbind(data, data1)
mean(data3[ , "nitrate"])
mean(data3[ , "nitrate"], na.rm = T)
rm(list = ls())
pollutantmean <- function(directory, pollutant, id = 1:332){
filenames <- list.files(path = directory, full.names = T)
data <- data.frame()
for(i in id){
temp <- read.csv(filenames[i])
data <- rbind(data, temp)
mean(data[ , pollutant], na.rm = T)
}
}
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean <- function(directory, pollutant, id = 1:332){
filenames <- list.files(path = directory, full.names = T)
data <- data.frame()
for(i in id){
temp <- read.csv(filenames[i])
data <- rbind(data, temp)
print(mean(data[ , pollutant], na.rm = T))
}
}
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean <- function(directory, pollutant, id = 1:332){
filenames <- list.files(path = directory, full.names = T)
data <- data.frame()
for(i in id){
temp <- read.csv(filenames[i])
data <<- rbind(data, temp)
}
mean(data[ , pollutant], na.rm = T)
}
pollutantmean("specdata", "sulfate", 1:10)
debug()
debug(pollutantmean)
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean <- function(directory, pollutant, id = 1:332){
filenames <- list.files(path = directory, full.names = T)
for(i in id){
data <- data.frame()
temp <- read.csv(filenames[i])
data <- rbind(data, temp)
mean(data[ , pollutant], na.rm = T)
}
}
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean <- function(directory, pollutant, id = 1:332){
filenames <- list.files(path = directory, full.names = T)
for(i in id){
data <- data.frame()
temp <- read.csv(filenames[i])
data <- rbind(data, temp)
print(mean(data[ , pollutant], na.rm = T))
}
}
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean <- function(directory, pollutant, id = 1:332){
filenames <- list.files(path = directory, full.names = T)
data <- data.frame()
for(i in id){
temp <- read.csv(filenames[i])
data <- rbind(data, temp)
}
print(mean(data[ , pollutant], na.rm = T)
}
pollutantmean <- function(directory, pollutant, id = 1:332){
filenames <- list.files(path = directory, full.names = T)
data <- data.frame()
for(i in id){
temp <- read.csv(filenames[i])
data <- rbind(data, temp)
}
print(mean(data[ , pollutant], na.rm = T)
}
rm(pollutantmean)
pollutantmean <- function(directory, pollutant, id = 1:332){
filenames <- list.files(path = directory, full.names = T)
data <- data.frame()
for(i in id){
temp <- read.csv(filenames[i])
data <- rbind(data, temp)
}
print(mean(data[ , pollutant], na.rm = T)
}
pollutantmean <- function(directory, pollutant, id = 1:332){
filenames <- list.files(path = directory, full.names = T)
data <- data.frame()
for(i in id){
temp <- read.csv(filenames[i])
data <<- rbind(data, temp)
}
mean(data[ , pollutant], na.rm = T)
}
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean <- function(directory, pollutant, id = 1:332){
filenames <- list.files(path = directory, full.names = T)
data <- data.frame()
for(i in id){
temp <- read.csv(filenames[i])
data <- rbind(data, temp)
}
mean(data[ , pollutant], na.rm = T)
}
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "nitrate", 23)
pollutantmean("specdata", "nitrate", 70:72)
debug(pollutantmean)
pollutantmean("specdata", "nitrate", 70:72)
temp <- read.csv("hw1_data.csv")
n <- complete.cases(temp)
sum(n)
temp[n]
temp[n, ]
setwd("D:/Documents/Coursera/Data Science/3. Getting and Cleaning Data")
x <- "Hello world!"
rm(x)
dir.create("test")
file.exists("test")
checkmakedir <- function(dirname){
if(file.exists(dirname)){
message("Directory already exists")
}
else {dir.create(dirname)}
}
checkmakedir("test")
checkmakedir("hello")
wd <- getwd()
download.file()
?download.file
wd
download.file(url = fileurl, destfile =  "D:/Documents/Coursera/Data Science/3. Getting and Cleaning Data/camea.csv",
method = "curl")
fileurl <- "https://data.baltimorecity.gov/api/views/dz54-2aru/rows.csv?accessType=DOWNLOAD"
download.file(url = fileurl, destfile =  "D:/Documents/Coursera/Data Science/3. Getting and Cleaning Data/camea.csv",
method = "curl")
?read.data
?read.table
ls()
list.files
list.files()
cameradata <- read.table("camera.csv", header = T)
cameradata <- read.table("camera.csv",sep = ",", header = T)
cameradata <- read.table("camea.csv", header = T)
cameradata <- read.table("camea.csv", sep = ",",  header = T)
head(cameradata)
?read.table
cameradata <- read.table(file= "camea.csv", sep = ", ", header = T, skip = 5, nrows = 10)
cameradata <- read.table(file= "camea.csv", sep = ",", header = T, skip = 5, nrows = 10)
cameradata
fieurl <- "https://data.baltimorecity.gov/api/views/dz54-2aru/rows.csv?accessType=DOWNLOAD&bom=true&format=true"
download.file(url = fileurl, destfile = "camera.xlsx", method = "curl")
fileurl <- "https://data.baltimorecity.gov/api/views/dz54-2aru/rows.csv?accessType=DOWNLOAD&bom=true&format=true"
download.file(url = fileurl, destfile = "camera.xlsx", method = "curl")
list.files()
library(xlxs)
library(xlsx)
install.packages(xlsx)
install.packages("xlsx")
install.packages("xlsx package")
library(xlsx)
library('xlsx')
library(xlsx)
installed.packages()
install.packages("xlsx package")
install.packages("xlsx")
library(xlsx)
install.packages("xlsx")
load(xlsx)
library(xlsx)
library('xlsx')
?library
library(xlsxjars)
library(xlsx)
library()
library(xlsx)
library('xlsx')
library('C:/Users/EliteBook/Documents/R/win-library/3.5/xlsx')
library('xlsx')
install.packages(xlsx)
install.packages('xlsx')
library(xlsx)
source(xlsx)
?source
options(java.home="C:\Program Files\Java\jre1.8.0_25")
Sys.setenv(JAVA_HOME='C:\\Program Files (x86)\\Java\\jre7')
library(xlsx)
Sys.setenv(JAVA_HOME='C:\\Program Files\\Java\\jre7')
library(xlsx)
?read.xlsx
cameradata <- read.xlsx(file= 'camera.xlsx', sheetIndex = 1)
cameradata <- read.xlsx(file= 'camera.xlsx', sheetIndex = 1, header = T)
cameradata <- read.xlsx("camera.xlsx", sheetIndex = 1)
download.file(url = "https://data.baltimorecity.gov/api/views/dz54-2aru/rows.csv?accessType=DOWNLOAD&bom=true&format=true",
destfile = "cameras.xlsx")
cameradata <- read.xlsx(file = "cameras.xlsx", sheetIndex = 1, header = T)
?read.xlsx
library(xlsx)
?read.xlsx
cameradata <- read.xlsx(file = "cameras.xlsx", sheetIndex = 1)
cameradatasub <- read.xlsx(file = "cameras.xlsx", sheetIndex = 1,
colIndex = 2:6, rowIndex = 1:10, header = T)
cameradatasub
library(XML)
install.packages(XML)
install.packages('XML')
library(XML)
list(XML)
doc <- xmlTreeParse("https://www.w3schools.com/xml/simple.xml", useInternal = T)
doc <- xmlTreeParse("https://www.w3schools.com/xml/simple.xml")
doc <- xmlTreeParse("https://www.w3schools.com/xml/simple.xml", useInternalNodes = T)
?xmlTreeParse
doc <- xmlTreeParse(file ="https://www.w3schools.com/xml/simple.xml", useInternalNodes = T)
fileurl <- "https://www.w3schools.com/xml/simple.xml"
doc <- xmlTreeParse(fileurl)
doc <- xmlTreeParse("food.xml")
do
doc
?xmlRoot
rootnode <- xmlroot(doc)
rootnode <- xmlRoot(doc)
rootnode
xmlName(rootnode)
names(rootnode)
rootnodee[[1]]
rootnode[[1]]
rootnode[3]
rootnode[[3]]
rootnode[[1]][[3]]
rootnode[[3]][[1]]
?xmlValue
xmlSApply(rootnode, xmlValue)
?xmlSApply
xmlApply(rootnode, xmlValue)
?xpathSApply
xpathSApply(rootnode, "//name", xmlvalue)
xpathSApply(rootnode, "//name", xmlValue)
xpathSApply(rootnode, "//name", xmlValue)
doc <- xmlTreeParse("food.xml")
rootnode <- xmlRoot(doc)
warnings()
xmlSApply(rootnode, xmlValue)
rootnode[[1]][[3]]
rootnode[[3]][[1]]
, "//
xpathSApply(rootnode, "//name", xmlValue)
xpathSApply(rootnode, "//price", xmlValue)
doc <- xmlTreeParse("https://www.w3schools.com/xml/simple.xml")
fileurl <- "http://www.espn.in/nfl/team/_/name/bal/baltimore-ravens"
doc <- htmlTreeParse(fileurl)
teams <- xpathSApply(doc, "//li[@class= 'team-name']", xmlValue)
teams <- xpathSApply(doc,"//li[@class= 'team-name']", xmlValue)
teams <- xpathSApply(doc,"//li[@class= 'team-name']", xmlValue)
scores <- xpathSApply(doc,"//li[@class= 'score']", xmlValue)
rootnode <- xmlRoot(doc)
scores <- xpathSApply(rootnode,"//li[@class= 'score']", xmlValue)
doc <- htmlTreeParse(fileurl)
scores <- xpathSApply(doc,"//li[@class= 'score']", xmlValue)
doc <- htmlTreeParse(fileurl, useInternalNodes = T)
scores <- xpathSApply(doc,"//li[@class= 'score']", xmlValue) ##error, not excecuting
scorea
scores
doc <- htmlTreeParse(fileurl, useInternalNodes = T)
teams <- xpathSApply(doc,"//li[@class= 'team-name']", xmlValue) ##error, not excecuting
teams
doc <- htmlTreeParse(fileurl, useInternal = T)
scores <- xpathSApply(doc,"//li[@class= 'score']", xmlValue) ##error, not excecuting
teams <- xpathSApply(doc,"//li[@class= 'team-name']", xmlValue) ##error, not excecuting
teams
scores
scores <- xpathSApply(doc,"//li[@class= 'score']", xmlValue) ##error, not excecuting
doc <- htmlTreeParse(fileurl)
scores <- xpathSApply(doc,"//li[@class= 'score']", xmlValue) ##error, not excecuting
teams <- xpathSApply(doc,"//li[@class= 'team-name']", xmlValue) ##error, not excecuting
, useInternal = T
doc <- htmlTreeParse(fileurl, useInternal = T)
doc <- htmlTreeParse(fileurl, useInternalNodes = T)
scores <- xpathSApply(doc,"//li[@class= 'score']", xmlValue) ##error, not excecuting
teams <- xpathSApply(doc,"//li[@class= 'team-name']", xmlValue) ##error, not excecuting
teams
scores
doc <- htmlTreeParse(fileurl, useInternal = T)
scores <- xpathSApply(doc,"//li[@class= 'score']", xmlValue) ##error, not excecuting
teams <- xpathSApply(doc,"//li[@class= 'team-name']", xmlValue) ##error, not excecuting
teams
scores
fileurl <- "http://www.espn.go.com/nfl/team/_/name/bal/baltimore-ravens"
doc <- htmlTreeParse(fileurl, useInternal = T)
scores <- xpathSApply(doc,"//li[@class= 'score']", xmlValue) ##error, results different than lectures
teams <- xpathSApply(doc,"//li[@class= 'team-name']", xmlValue) ##same
teams
scores
ranking <- xpathSApply(doc,"//li[@class= 'ranking']", xmlValue) ##same
ranking
xpathSApply(doc,"//li[@class= 'record']", xmlValue) ##same
xpathSApply(doc,"//li[@class= 'sub']", xmlValue) ##same
xpathSApply(doc,"//li[@class= 'user']", xmlValue) ##same
xpathSApply(doc,"//li[@class= 'tier-3']", xmlValue) ##same
xpathSApply(doc,"//li[@class= 'nextGame']", xmlValue) ##same
fileurl <- "http://www.espn.com/nfl/team/roster/_/name/bal/baltimore-ravens"
doc <- htmlTreeParse(fileurl, useInternal = T)
xpathSApply(doc, "//li[@class= 'name'", xmlValue)
xpathSApply(doc, "//li[@class= 'name']", xmlValue)
xpathSApply(doc, "//li[@class= 'active']", xmlValue)
xpathSApply(doc, "//li[@class= 'search']", xmlValue)
xpathSApply(doc, "//li[@class= 'user']", xmlValue)
xpathSApply(doc, "//li[@class= 'pillar fantasy']", xmlValue)
xpathSApply(doc, "//li[@class= 'pillar listen']", xmlValue)
xpathSApply(doc, "//li[@class= 'sub']", xmlValue)
library(swirl)
swril()
swirl()
install_from_swirl("Getting and Cleaning Data")
bye()
head(iris)
library(jsonlite)
myjson <- toJSON(iris, pretty = T`)
)
99(())
(())
)
)]}
}}}{{{{{}}}}}}}}}}}}}
library(jsonlite)
myjson <- toJSON(iris, pretty = TRUE)
myjson
cat(myjson)
cat(myjson)
rm(list = ls())
mtcars
mtcars[mtcars$cyl == 4, ]
mtcars[mtcars$mpg == 22.8, ]
housing <- read.csv("housing.csv")
housing[housing$VAL ==24, ]
head(housing$VAL, 200)
values <- housing$VAL
values[values==24]
na.omit(values[values==24])
class(na.omit(values[values==24]))
nrows(housing[housing$VAL == 24, ])
nrow(housing[housing$VAL == 24, ])
## the answer was wrong, so I printed
housing[housing$VAL == 24 && housing$VAL== !is.na, ]
## the answer was wrong, so I printed
housing[housing$VAL == 24 && housing$VAL== !is.na, ]
## the answer was wrong, so I printed
housing[housing$VAL == 24 & housing$VAL== !is.na, ]
## the answer was wrong, so I printed
housing[(housing$VAL == 24 & housing$VAL== !is.na), ]
## the answer was wrong, so I printed
housing[(housing$VAL == 24 && housing$VAL== !is.na), ]
nrow(mtcars[mtcars$cyl == 4, ])
nrow(mtcars[mtcars$cyl == 4, ])
mtcars[mtcars$cyl == 4, ]
rm(values)
download.file(url = "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx",
destfile = "ngap.xlsx")
library(xlsx)
doc <- read.xlsx("ngap.xlsx", sheetIndex = 1, nrow(18:23), ncol(7:15))
?read.xlsx
row
doc <- read.xlsx("ngap.xlsx", sheetIndex = 1, rowIndex =  18:23, colIndex =  7:15)
doc <- read.xlsx("ngap.xlsx", sheetIndex = 1, rowIndex =  18:23, colIndex =  7:15)
download.file(url = "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx",
destfile = "ngap.xlsx", method = 'wb')
download.file(url = "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx",
destfile = "ngap.xlsx", mode = 'wb')
doc <- read.xlsx("ngap.xlsx", sheetIndex = 1, rowIndex =  18:23, colIndex =  7:15)
sum(dat$Zip*dat$Ext,na.rm=T)
dat <- read.xlsx("ngap.xlsx", sheetIndex = 1, rowIndex =  18:23, colIndex =  7:15)
sum(dat$Zip*dat$Ext,na.rm=T)
download.file(url = "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml",
destfile = "brest.xml")
library(xml)
library(XML)
doc <- xmlTreeParse("brest.xml")
doc <- xmlTreeParse("brest.xml", useInternal = T)
doc <- xmlTreeParse("brest.xml")
xmlName(doc)
doc <- xmlTreeParse("brest.xml", useInternalNodes = T)
xmlName(doc)
names(doc)
doc <- xmlTreeParse("brest.xml")
names(doc)
xmlValue(doc)
doc <- xmlTreeParse("brest.xml", useInternalNodes = T)
names(doc)
xmlValue(doc)
doc[[1]]
rootdoc <- xmlRoot(doc)
names(rootdoc)
rootdoc[[1]]
rootdoc[[1]]
names(rootdoc)
rootdoc[[1]][[1]]
xmlSApply(rootdoc[[1]], xmlValue)
xmlSApply(rootdoc, xmlValue)
xpathSApply(rootdoc, "//zipcode" = 21231, xmlValue)
xpathSApply(rootdoc, "//zipcode" = "21231", xmlValue)
xpathSApply(rootdoc, "//zipcode", xmlValue)
xpathSApply(rootdoc, "//zipcode = 21231", xmlValue)
xpathSApply(rootdoc, "//zipcode = 21231", sum)
xpathSApply(rootdoc, "//zipcode = "21231"", xmlValue)
sum(xpathSApply(rootdoc, "//zipcode", xmlValue) = "21231")
sum(xpathSApply(rootdoc, "//zipcode", xmlValue) == "21231")
(xpathSApply(rootdoc, "//zipcode" == "21231", xmlValue)
xpathSApply(rootdoc, "//zipcode" == "21231", xmlValue)
xpathSApply(rootdoc, "//zipcode" == "21231", xmlValue)
xpathSApply(rootdoc, "//zipcode == "21231"", xmlValue)
?fread
library()
library(data.table)
?fread
download.file(url = "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv",
destfile = "house.csv")
download.file(url = "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv",
destfile = "house.csv")
download.file(url = "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv",
destfile = "house.csv")
DT <- fread("house.csv")
system.time(DT[,mean(pwgtp15), by= SEX])
system.time(DT[,mean(pwgtp15),by=SEX]
)
system.time(sapply(split(DT$pwgtp15,DT$SEX),mean))
system.time(mean(DT[DT$SEX==1,]$pwgtp15); mean(DT[DT$SEX==2,] $pwgtp15))
nrow(subset(housing, VAL == 24))
install.packages('RMySQL')
library(RMySQL)
ucscdb <- dbConnect(MySQL(), user = "genome",
host = "genome-mysql.soe.ucsc.edu")
rm(list = ls())
ucscdb <- dbConnect(MySQL(), user = "genome",
host = "genome-mysql.soe.ucsc.edu")
ucscdb
?dbConnect
result <- dbGetQuery(ucscdb, "show databases;")
result <- dbGetQuery(ucscdb, "show databases;"); dbDisconnect(uscsdb)
result <- dbGetQuery(ucscdb, "show databases;"); dbDisconnect(uscsdb);
ucscdb <- dbConnect(MySQL(), user = "genome",
host = "genome-mysql.soe.ucsc.edu")
result <- dbGetQuery(ucscdb, "show databases;"); dbDisconnect(uscsdb)
rm(list = ls(
))
source('D:/Documents/Coursera/Data Science/3. Getting and Cleaning Data/scribbling w2.R', echo=TRUE)
dbDisconnect(uscsdb)
source('D:/Documents/Coursera/Data Science/3. Getting and Cleaning Data/scribbling w2.R', echo=TRUE)
result
hg19 <- dbConnect(MySQL(), user = "genome", db = "hg19"
host = "genome-mysql.soe.ucsc.edu")
hg19 <- dbConnect(MySQL(), user = "genome", db = "hg19" ,
host = "genome-mysql.soe.ucsc.edu")
first <- hg19[1]
alltables <- dbListTables(hg19)
alltables[1:5]
dbListFields(hg19, "HInv")
dbGetQuery((hg19, "select count(*) from HInv"))
dbGetQuery((hg19, "select count(*) from HInv")
dbGetQuery(hg19, "select count(*) from HInv")
HInv <- dbReadTable(hg19, "HInv")
head(HInv)
